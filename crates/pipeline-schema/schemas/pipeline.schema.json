{
  "$schema": "http://json-schema.org/draft-07/schema",
  "$id": "./schemas/pipeline.schema.json",
  "type": "object",
  "required": ["name", "steps"],
  "properties": {
    "name": {
      "type": "string",
      "pattern": "^[a-z0-9-]+$",
      "description": "Pipeline identifier (lowercase, numbers, hyphens only)"
    },
    "description": {
      "type": "string",
      "description": "Human-readable description of the pipeline"
    },
    "version": {
      "type": "string",
      "pattern": "^v?\\d+\\.\\d+\\.\\d+(-[a-zA-Z0-9-]+)?$",
      "description": "Semantic version (e.g., v1.0.0, 1.2.3-beta)"
    },
    "steps": {
      "type": "array",
      "minItems": 1,
      "items": {
        "$ref": "./step.schema.json"
      },
      "description": "Array of pipeline steps"
    },
    "messaging": {
      "$ref": "./messaging/messaging.schema.json",
      "description": "Messaging configuration"
    }
  }
}