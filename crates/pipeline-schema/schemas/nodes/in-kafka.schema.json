{
  "$schema": "http://json-schema.org/draft-07/schema",
  "$id": "./schemas/nodes/in-kafka.schema.json",
  "type": "object",
  "required": ["brokers", "topic"],
  "properties": {
    "brokers": {
      "type": "array",
      "items": {
        "type": "string",
        "pattern": "^[^:]+:\\d+$"
      },
      "minItems": 1,
      "description": "Kafka broker addresses (host:port)"
    },
    "topic": {
      "type": "string",
      "minLength": 1,
      "description": "Topic to consume from"
    },
    "consumer_group": {
      "type": "string",
      "description": "Consumer group ID"
    },
    "offset": {
      "enum": ["earliest", "latest", "stored"],
      "default": "stored",
      "description": "Initial offset position"
    },
    "batch_size": {
      "type": "integer",
      "minimum": 1,
      "maximum": 10000,
      "default": 100,
      "description": "Messages per batch"
    },
    "auto_commit": {
      "type": "boolean",
      "default": true,
      "description": "Auto-commit offsets"
    }
  }
}