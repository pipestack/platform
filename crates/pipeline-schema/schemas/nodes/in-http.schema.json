{
  "$schema": "http://json-schema.org/draft-07/schema",
  "$id": "./schemas/nodes/in-http.schema.json",
  "type": "object",
  "properties": {
    "port": {
      "type": "integer",
      "minimum": 1,
      "maximum": 65535,
      "default": 8080,
      "description": "HTTP port"
    },
    "path": {
      "type": "string",
      "pattern": "^/.*",
      "description": "Endpoint path (must start with /)"
    },
    "methods": {
      "type": "array",
      "items": {
        "enum": ["GET", "POST", "PUT", "DELETE", "PATCH", "HEAD", "OPTIONS"]
      },
      "uniqueItems": true,
      "default": ["POST"],
      "description": "Allowed HTTP methods"
    },
    "auth": {
      "type": "object",
      "properties": {
        "type": {
          "enum": ["none", "basic", "bearer", "api-key"]
        },
        "config": {
          "type": "object"
        }
      }
    },
    "cors": {
      "type": "boolean",
      "default": false,
      "description": "Enable CORS"
    },
    "rate_limit": {
      "type": "object",
      "properties": {
        "requests_per_second": {
          "type": "integer",
          "minimum": 1
        },
        "burst": {
          "type": "integer",
          "minimum": 1
        }
      }
    }
  }
}