# Infisical Secrets Provider Configuration Example
# Copy this file to .env and fill in your actual values

# =============================================================================
# REQUIRED CONFIGURATION
# =============================================================================

# Infisical Universal Auth Credentials
# Get these from your Infisical project settings > Machine Identities
INFISICAL_CLIENT_ID=your_universal_auth_client_id_here
INFISICAL_CLIENT_SECRET=your_universal_auth_client_secret_here

# Infisical Project Configuration
# Find your project ID in the Infisical dashboard URL or project settings
INFISICAL_PROJECT_ID=your_project_id_here

# =============================================================================
# OPTIONAL CONFIGURATION (with defaults)
# =============================================================================

# Infisical Instance URL
# Use https://app.infisical.com for Infisical Cloud
# Use https://eu.infisical.com for Infisical EU
# Use your custom URL for self-hosted instances
INFISICAL_BASE_URL=https://app.infisical.com

# Infisical Environment
# The environment to fetch secrets from (e.g., dev, staging, prod)
INFISICAL_ENVIRONMENT=prod

# NATS Configuration
# URL of your NATS server
NATS_URL=nats://localhost:4222

# NATS subject prefix for wasmCloud secrets
NATS_SUBJECT_PREFIX=wasmcloud.secrets

# Backend Configuration
# Name of this secrets backend (must match wasmCloud policy configuration)
BACKEND_NAME=infisical

# wasmCloud secrets API version
API_VERSION=v1alpha1

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Rust log level configuration
# Options: error, warn, info, debug, trace
# You can also target specific modules:
# RUST_LOG=infisical_secrets_provider=debug,infisical=info
RUST_LOG=infisical_secrets_provider=info

# =============================================================================
# EXAMPLE CONFIGURATIONS FOR DIFFERENT ENVIRONMENTS
# =============================================================================

# Development Environment Example:
# INFISICAL_ENVIRONMENT=dev
# RUST_LOG=infisical_secrets_provider=debug

# Staging Environment Example:
# INFISICAL_ENVIRONMENT=staging
# INFISICAL_BASE_URL=https://staging.infisical.com

# Production Environment Example:
# INFISICAL_ENVIRONMENT=prod
# NATS_URL=nats://nats-cluster.production.com:4222
# RUST_LOG=infisical_secrets_provider=warn

# Self-hosted Infisical Example:
# INFISICAL_BASE_URL=https://infisical.your-company.com
# INFISICAL_ENVIRONMENT=production

# =============================================================================
# SECURITY NOTES
# =============================================================================

# 1. Never commit this file with real credentials to version control
# 2. Use strong, unique credentials for your Infisical Universal Auth
# 3. Rotate your credentials regularly
# 4. Limit the scope of your Universal Auth identity in Infisical
# 5. Use TLS/SSL for NATS in production environments
# 6. Store this file securely and restrict access permissions

# =============================================================================
# QUICK START CHECKLIST
# =============================================================================

# 1. [ ] Create Infisical project and environment
# 2. [ ] Create Universal Auth machine identity
# 3. [ ] Copy this file to .env
# 4. [ ] Fill in INFISICAL_CLIENT_ID, INFISICAL_CLIENT_SECRET, INFISICAL_PROJECT_ID
# 5. [ ] Adjust INFISICAL_ENVIRONMENT if needed
# 6. [ ] Run: cargo run
# 7. [ ] Configure your wasmCloud application to use this backend